# Web请求的过程

## 打开网页的基本流程

- 浏览器输入网址
- 对网址进行域名解析,获取IP地址
- 根据IP地址对服务器发起HTTP请求
- 服务接受请求、处理请求、返回响应

## HTTP

## DNS

DNS是Domain Name System域名系统的简称，它是域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。

根据域名获取对应IP地址的行为叫做域名解析。

浏览器会对域名解析进行缓存。

操作系统会对域名解析进行缓存。

- windows系统域名解析缓存文件: C:\Windows\System32\drivers\etc\hosts
- linux系统域名解析缓存文件: /etc/hosts

如果浏览器,和操作系统都没有对该域名的解析缓存。

![](/home/hdr/Desktop/JNotes/Java/images/DNS%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90.png)

- LDNS 本地区的域名服务器,网络供应提供的对域名解析进行缓存的服务器。
- gTLDS  generic Top level 域名服务器,如.com .cn等等
- Name Server 通常就是你注册的域名服务器。例如你在阿里云买了域名,这个域名解析任务就由域名提高商的服务器来完成。
- TTL time to live 保留时间

## 几种域名解析方式

- A记录
- MX记录
- CNAME记录
- NS记录
- TXT记录

A记录,A是Address的意思,就是把该域名指向一个IP地址。

MX记录,MX是 Mail Exchange的意思,它指向一个邮件服务器，用于电子邮件系统发邮件时根据 收信人的地址后缀来定位邮件服务器。

CNAME记录,Canonical Name(别名解析),把该域名指向另一个域名。

NS记录,为某个域名指定DNS解析服务器

TXT记录,为某个主机名/域名设置说明

## CDN工作机制

CDN content delivery network(内容传输网络),

CDN主要功能是在不同的地点缓存内容，通过负载均衡技术，将用户的请求定向到最合适的缓存服务器上去获取内容，比如说，是北京的用户，我们让他访问北京的节点，深圳的用户，我们让他访问深圳的节点。通过就近访问，加速用户对网站的访问。解决Internet网络拥堵状况，提高用户访问网络的响应速度。

CDN网络是在用户和服务器之间增加缓存层，将用户的访问请求引导到最优的缓存节点而不是服务器源站点，从而加速访问速度。

**完整的CDN工作流程：**

![](/home/hdr/Desktop/JNotes/Java/images/CDN%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.jpg)

# JavaWeb基础

[Tomcat外传](https://zhuanlan.zhihu.com/p/54121733)

[Servlet本质是什么，它是如何工作的？](https://www.zhihu.com/question/21416727/answer/690289895)

[Servlet上](https://zhuanlan.zhihu.com/p/65588465)

[Servlet下](https://zhuanlan.zhihu.com/p/65658315)

[Listener](https://zhuanlan.zhihu.com/p/65219353)

[ContextLoaderListener解析](https://zhuanlan.zhihu.com/p/65258266)

[Filter](https://zhuanlan.zhihu.com/p/65335657)

# 框架学习浅谈

## 框架的本质

**什么是框架? 框架从何而来? 为什么要使用框架?**

简单来讲,框架其实就是一个或多个JAR包而已,其本质是对JDK功能的扩展.

当我们说一个程序使用了Spring框架,其实潜台词就是说,

我们把Spring的相关的JAR包加入到CLASSPATH,并在程序里使用了其功能.

我们引用JAR包的目的:解决在某个领域的开发中所碰到的困境.

### 总结:

- ### 框架是一组程序的集合,包含了一系列的最佳实践,作用是解决某个领域的问题.

- ### 框架的产生就是为了解决一个又一个在开发中所遇到的困境

------

## 最佳实践

**最佳实践是指无数程序员在无数次尝试后,得出的处理特定问题的特定方法.**

### 常见的最佳实践

- #### 永远不要生搬硬套任何最佳实践   (不要乱用框架)

- #### 始终保持程序的可读性、可维护性、可扩展性。

- #### 简单就是美  

  - #### 消除重复

  - #### 化繁入简,用尽量少的代码表达尽量多的逻辑意义

- #### 尽可能使用面向对象的观点进行编程

- #### 减少依赖 (消除耦合)

------

## 如何学习开源框架

- ### 要掌握基础

  - 什么意思? 我们知道框架就是为了解决某个领域中某些问题而产生,那么如果我们对这个领域一无所知,那么学框架也就无从谈起.

- ### 仔细阅读、反复阅读开源框架自带的Reference

  - 第一阶段:了解框架整体架构和功能
  - 第二阶段:挑重点章节仔细阅读,并辅以一定的代码实践,目的是彻底掌握某个分支领域的知识
  - 带着问题阅读,在文档中寻找答案

- ### 开源项目提供的案例

  - 这些都是出自框架开发人员之手,非常具有学习价值

- ### 精读网络教程

  - 带着问题去读,去寻找答案.

- ### 自己动手写一个sample项目

  - 纸上得来终觉浅,绝知此事要躬行.

- ### 带着问题调试开源框架的源码

  - 反对逐个package的去阅读源码. 

    程序具有动态的、运行的性质,如果逐一去阅读源码,将无法看到一个完整的动态执行过程.