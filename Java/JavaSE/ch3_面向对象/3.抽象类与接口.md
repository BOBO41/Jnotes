---
title : 3.抽象类与接口
categories : 
- JavaSE
- ch3面向对象
date : 2018-5-10
---

# 抽象类

**定义：**在面向对象的概念中，所有的对象都是通过类来描绘的，但是反过来，并不是所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。

**作用：**在某些情况下，类会无法确定其方法的实现方式，
例如图形类，它要计算周长，但是不同的图形有不同的周长公式，
那就导致图形类无法确定计算周长这个方法的实现方式。
这个时候使用抽象类就是个不错的解决方法。

抽象类除了不能实例化对象之外，类的其它功能依然存在，成员变量、成员方法和构造方法的访问方式和普通类一样。由于抽象类不能实例化对象，所以抽象类必须被继承，才能被使用。也是因为这个原因，通常在设计阶段决定要不要设计抽象类。


abstract修饰符可以修饰类和方法。被abstract修饰符修饰的类叫做抽象类。被abstract修饰符修饰的方法叫做抽象方法。

**注意：**

- 抽象类不能被实例化。

- 抽象类可以有非抽象方法。

- 抽象类可以没有抽象方法，但是定义了抽象方法的类必须要抽象类。

- 抽象方法没方法体。（看下面的例子）

  ```java
  public abstract void absMethod();
  // 方法体就是{}和它里面的东西。
  ```

# 接口

## 接口的概念与基本特征

在java中，接口有两种意思。

- 一是概念性的接口，指系统对外提供的所有服务。类的所有能被外部使用者访问的方法构成了类的接口。
- 二是指用interface关键字定义的实实在在的接口，也称为接口类型。

我们这里要讲的是接口类型，它表面上与抽象类有点相似，都是不能被实例化。

类实现接口的关键字是implements

```java
public class MyDate implements Comparable{
    
}
```

**注意：**

- 接口中的成员变量默认都是public static final修饰的，必须被显示初始化。

  ```java
  public interface A{
      int var1; // 报错 没有赋值
      protected int var2=2; // 报错 只能用public修饰
      int var3 = 3; // 可以
  }
  ```

- 接口中的方法默认是public、abstract修饰的。

- JDK8之前，接口只能包含抽象方法。JDK8之后，允许在接口中定义默认方法和静态方法。

  ```java
  public interface MyInterface{
      default void defMethod(){
          System.out.println("默认方法要用default来修饰");
      }
      
      static void staMethod(){
          System.out.println("我们是接口中的静态方法");
      }
  }
  ```

- 接口不能实现另一个接口，但是可以继承多个其他接口

  ```java
  public interface MyInterface extends A,B{
  }
  ```

# 比较接口和抽象类

1）抽象类是对一种事物的抽象，即对类抽象，而接口是对行为的抽象。抽象类是对整个类整体进行抽象，包括属性、行为，但是接口却是对类局部（行为）进行抽象。举个简单的例子，飞机和鸟是不同类的事物，但是它们都有一个共性，就是都会飞。那么在设计的时候，可以将飞机设计为一个类Airplane，将鸟设计为一个类Bird，但是不能将 飞行 这个特性也设计为类，因此它只是一个行为特性，并不是对一类事物的抽象描述。此时可以将 飞行 设计为一个接口Fly，包含方法fly( )，然后Airplane和Bird分别根据自己的需要实现Fly这个接口。然后至于有不同种类的飞机，比如战斗机、民用飞机等直接继承Airplane即可，对于鸟也是类似的，不同种类的鸟直接继承Bird类即可。从这里可以看出，继承是一个 "是不是"的关系，而 接口 实现则是 "有没有"的关系。如果一个类继承了某个抽象类，则子类必定是抽象类的种类，而接口实现则是有没有、具备不具备的关系，比如鸟是否能飞（或者是否具备飞行这个特点），能飞行则可以实现这个接口，不能飞行就不实现这个接口。

2）设计层面不同，抽象类作为很多子类的父类，它是一种模板式设计。而接口是一种行为规范，它是一种辐射式设计。什么是模板式设计？最简单例子，大家都用过ppt里面的模板，如果用模板A设计了ppt B和ppt C，ppt B和ppt C公共的部分就是模板A了，如果它们的公共部分需要改动，则只需要改动模板A就可以了，不需要重新对ppt B和ppt C进行改动。而辐射式设计，比如某个电梯都装了某种报警器，一旦要更新报警器，就必须全部更新。也就是说对于抽象类，如果需要添加新的方法，可以直接在抽象类中添加具体的实现，子类可以不进行变更；而对于接口则不行，如果接口进行了变更，则所有实现这个接口的类都必须进行相应的改动。



