---
title : 1.Java异常处理机制概述
categories : 
- JavaSE
- ch5异常处理
date : 2018-5-10
---

# Java异常处理机制概述

当一个新方法被调用时，Java虚拟机会把方法包装成一种叫栈帧的数据结构，然后放入虚拟机栈，当方法执行过程中出现了异常，虚拟机首先查看该方法是否带有处理该异常的代码块，如果有，则执行该代码块，否则弹出该方法，从它的调用者中寻找处理该异常的代码，不停重复，如果异常到最后都还没被处理，那么就会执行以下步骤：

- 调用异常对象的`printStackTrace()`方法，打印来自方法调用栈的异常信息。
- 如果该线程不是主线程，那么终止这个线程，其他线程继续正常运行，否则整个应用程序被终止。



## throws与throw

`throws`表明该方法无法处理这些异常，把异常处理交由它的调用者去负责

```java
public void update(User user)throws SQLException{
    // .....
}
```

`throw`表示在方法内部抛出一个异常

```java
thorw new MyException("出现了异常");
// 抛出的异常对象必须是Throwable类或其子类
```



## 异常处理代码块

```java
try{
    
}catch(SQLExcetion e){
    // 处理异常
}final{
    // 无论是否出现异常都会执行的语句
}
```



