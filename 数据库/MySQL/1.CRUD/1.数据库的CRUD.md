---
title : 1.数据库的CRUD
categories : 
- DataBase
- MySQL
date : 2018-5-5
---

# 数据库的CRUD

在讲数据库的CRUD之前我们需要了解两样东西。

## SQL语句大小写规则

1. SQL关键字和函数名是不区分大小写的。

2. 数据库名、表名和视图名跟操作系统的文件系统有关，例如Windows是不区分大小写，而Linux是区分的。

   因为MySQL使用主机上的文件和目录来表示数据库和表。

3. 存储函数、过程和时间的名字都不区分大小写

4. 列名和索引名不区分大小写

5. 别名，默认情况下表的别名区分大小写

6. 字符串值

## 字符集的支持

MySQL支持多种字符集，而且允许在服务器、数据库、表、列和字符串常量等不同层次单独指定字符集。

一个给定的字符集可以有一种或多种排序规则，所谓排序规则就是该字符集是通过什么方式来进行比较的。

我们可以通过以下例子说明：

```
mysql> show character set like '%gbk%';
+---------+------------------------+-------------------+--------+
| Charset | Description            | Default collation | Maxlen |
+---------+------------------------+-------------------+--------+
| gbk     | GBK Simplified Chinese | gbk_chinese_ci    |      2 | 
+---------+------------------------+-------------------+--------+
1 row in set (0.00 sec)

mysql> show collation like '%gbk%';
+----------------+---------+----+---------+----------+---------+
| Collation      | Charset | Id | Default | Compiled | Sortlen |
+----------------+---------+----+---------+----------+---------+
| gbk_chinese_ci | gbk     | 28 | Yes     | Yes      |       1 | 
| gbk_bin        | gbk     | 87 |         | Yes      |       1 | 
+----------------+---------+----+---------+----------+---------+
2 rows in set (0.00 sec)
从上例中我们可以看出字符集gbk有两个排序方式（分别为gbk_chinese_ci何gbk_bin），其中默认的排序方式为gbk_chinese_ci。
排序方式的命名规则为：字符集名字_语言_后缀，其中各个典型后缀的含义如下：

1）_ci：不区分大小写的排序方式

2）_cs：区分大小写的排序方式

3）_bin：二进制排序方式，大小比较将根据字符编码，不涉及人类语言，因此_bin的排序方式不包含人类语言

因此，gbk_chinese_ci排序方式就表示：字符集为gbk，人类语言使用中文来比较大小，比较时区分大小写。
```

### 指定字符集和排序规则

在用于创建数据库和表的SQL语句里，有两个句子可用于指定数据库、表和列的字符集和排序规则。

```sql
# 指定字符集
CHARACTER SET charset
# 指定字符集的排序方式
COLLATE collation
# 例子 使用utf8字符集，区分大小写的排序方法
CREATE DATABASE learn_mysql CHARACTER SET utf8 COLLATE utf8_general_cs;
```

## 数据库的CRUD

### 创建数据库

```sql
CREATE DATABASE [IF NOT EXISTS] learn_mysql [CHARACTER SET charset] 
	[COLLATE collation];
```

### 删除数据库

```sql
DROP DATABASE learn_mysql;
```

### 查看数据库

```sql
SHOW DATABASES；
```

### 使用数据库

```sql
USE learn_mysql;
```

### 更改数据库

```sql
# 这里说的更改数据库的全局属性，也就是默认字符集和排序规则，而不是数据库的名字
ALTER DATABASE learn_mysql [CHARACTER SET charset] [COLLATE collation];
```



