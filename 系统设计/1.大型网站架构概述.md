# 大型网站架构概述

**大型互联网应用系统的特点：**

-   高并发，大流量
-   高可用
-   海量数据
-   用户分布广泛、网络情况复杂
-   安全环境恶劣
-   需求变更快速
-   渐进式发展

**大型网站架构核心要素：** 性能、可用性、伸缩性、扩展性、安全性

**演化过程：**

1.  单机架构

2.  应用服务与数据服务分离

    应用服务器、文件服务器、数据库服务器

3.  引入缓存

    本地缓存：缓存在应用服务器上

    远程缓存：缓存在专门的分布式缓存服务器上

4.  应用服务器集群

    通过负载均衡调度服务器

5.  数据库读写分离

6.  CDN和反向代理

    两者的基本原理都是缓存，只不过CDN部署在网络提供商机房，用户请求时，可以从距离自己最近的网络提供商机房获取数据。反向代理服务器部署在网站的中心机房，用户请求时先访问的是反向代理服务器，如果反向代理服务器缓存了用户请求的数据，则直接返回。

7.  业务分库

    不同业务的数据库部署在不同的物理服务器上

8.  分布式文件系统和分布式数据库系统

    分布式数据库系统是数据库拆分的最后手段

9.  使用NoSQL和搜索引擎

10.  业务拆分

11.  分布式服务

     把公共的业务提取出来，由这些可复用的业务连接数据库，提供共用业务服务。

**模式：** 模式这个词的定义：每一个模式描述了一个在我们周围不断重复发生的问题以及该问题的解决方案的核心。这样你就能一次又一次的使用该方案而不必做重复工作。



# 网站的高可用架构

高可用架构的主要手段是数据和服务的冗余备份以及失效转移。一旦某些服务器宕机，就将服务切换到其它可用的服务器上，如果磁盘损坏，则从备份的磁盘读取数据。

## 高可用的应用

应用层通常是无状态的，也就是每个应用服务器不保存业务的上下文信息，多个应用服务器之间完全对等，请求提交到任意服务器都是完全一样的。

- 负载均衡
- Session管理
  - Session复制
  - Session绑定
  - 利用Cookie记录Session
  - Session服务器

真的还不太能理解

## 高可用的服务

## 高可用数据

数据备份、失效转移

**CAP原理**



# 网站的高性能架构

# 网站的伸缩性架构



# 网站的安全架构