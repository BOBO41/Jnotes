---
title : 2.字符流
categories : 
- JavaSE
- ch4IO
date : 2018-5-15
---

# 字符流概述

字符流分为字符输入流（Reader）和字符输出流（Writer），这两者都是抽象类，无法被实例化。

我们来看看他们具有的方法。

## Reader

[Java8 Reader官方文档](https://docs.oracle.com/javase/8/docs/api/java/io/Reader.html)

```java
int read(); // 读取单个字符
int read(char[] cbuf); // 读取字符到数组
abstract int read(char[] cbuf, int off, int len); // 读取字符到数组的一部分
int read(charBuffer target); // 从特定的字符缓冲区读取数据

boolean ready()； // 判断是否可以读取数据
abstract void close();
long skip(long n);

boolean markSupported();
void mark(int readAheadLimint); // 在当前流的位置做标记
void reset(); 
```

## Writer

[Java8 Writer官方文档](https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html)

```java
void write(int c);
void write(char[] cbuf);
abstract void write(char[] cbuf, int off, int len);
void write(String str);
void write(String str, int off, int len);

abstract void close();
abstract void flush();
```

## 编码问题

说道处理字符，那就不能不提编码问题了。

Java语义采用Unicode字符编码。

**获取本地操作系统的默认字符编码**

```java
System.getProperty("file.encoding");
// 或者
Charset.defaultCharset();
```

Reader类能够将输入流中采用其他编码类型的字符转换为Unicode字符，然后在内存中为这些Unicode字符分配内存。

Writer类能够将内存中的Unicode字符转换为其他编码类型的字符，再写入到输出流中。

默认情况下，Reader和Writer会在本地平台的字符编码和Unicode编码之间进行编码转换。

如果需要用到其他类型的编码，可以在构造的时候指定编码类型。

# 字符流的子类

![1540727057271](https://raw.githubusercontent.com/huangdaren1997/pictures/master/%E5%AD%97%E7%AC%A6%E6%B5%81.png)

## 字符数组Rader和字符数组Writer

### CharArrayReader

**构造器**

```java
CharArrayReader(char[] buf);
CharArrayReader(char[] buf, int offset, int length);
```

### CharArrayWriter

**构造器**

```java
CharArrayWriter();
CharArrayWriter(int initialSize);
```

## 缓冲字符Reader和缓冲字符Writer

### BufferedReader

**构造器**

```java
BufferedReader(Reader in);
BufferedReader(Reader in, int sz);
```

### BufferedWriter

**构造器**

```java
BufferedWriter(Writer out);
BufferedWriter(Writer out, int sz);
```

## 文件Reader和文件Writer

### FileReader

**构造器**

```java
FileReader(File file);
FileReader(FileDescriptor fd);
FileReader(String fileName);
```

### FileWriter

**构造器**

```java
FileWriter(File file);
FileWriter(File file, boolean append);
FileWriter(FileDescriptor fd);
FileWriter(String fileName);
FileWriter(String fileName, boolean append);
```



## 字符串Reader和字符串Writer

### StringReader

**构造器**

```java
StringReader(String s)；
```

### StringWriter

```java
StringWriter()；
StringWriter(int initialSize)
```



